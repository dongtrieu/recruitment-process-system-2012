<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    template="./templates/rpsTemplate.xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core">

    <ui:define name="content">
        <p:growl id="growl" showDetail="true" globalOnly="true" sticky="true"/>

        <h:form id="form1">
            <div class="content-box column-left">
                <div class="content-box-header">
                    <h3>Personal Information</h3>
                </div><!-- End .content-box-header -->

                <div class="content-box-content">
                    <div class="tab-content default-tab">
                        <fieldset>
                            <h4>Introduction by Admin</h4>
                            <p>
                                When you create new an applicant, you need to enter his/her information. His/her personal information contains first name, last name, gender, date of birth, etc...
                                The first name, last name field must be entered, not blank, the other is recommended.
                            </p>
                            <p>
                                <label>First Name</label>
                                <h:inputText value="#{applicantMB.applicant.firstName}" 
                                             styleClass="text-input medium-input" id="firstName"
                                             required="true"
                                             requiredMessage="You must enter first name."/>
                                <h:message for="firstName"
                                           infoClass="input-notification success png_bg"
                                           warnClass="input-notification attention png_bg"
                                           errorClass="input-notification error png_bg"/>
                                <!-- Classes for input-notification: success, error, information, attention -->
                            </p>
                            <p>
                                <label>Last Name</label>
                                <h:inputText value="#{applicantMB.applicant.lastName}" 
                                             styleClass="text-input medium-input" id="lastName"
                                             required="true"
                                             requiredMessage="You must enter last name."/>
                                <h:message for="lastName"
                                           infoClass="input-notification success png_bg"
                                           warnClass="input-notification attention png_bg"
                                           errorClass="input-notification error png_bg"/>
                            </p>
                            <p>
                                <label>Gender</label>
                                <h:selectOneMenu id="gender"
                                                  value="#{applicantMB.applicant.gender}"
                                                  styleClass="text-input medium-input">
                                    <f:selectItem itemLabel="Male" itemValue="true"/>
                                    <f:selectItem itemLabel="Female" itemValue="false" />
                                </h:selectOneMenu>
                            </p>
                            <p>
                                <label>Date Of Birth</label>
                                <p:calendar value="#{applicantMB.applicant.dob}"
                                            id="dob"
                                            navigator="true"
                                            yearRange="c-50:c+50"
                                            mindate="1/1/62"
                                            maxdate="#{applicantMB.currentDate}"
                                            pattern="EEE, dd MMM, yyyy"
                                            styleClass="dob"
                                            required="true"
                                            requiredMessage="You must enter date of birth."
                                            validator="#{applicantMB.validateDOB}">
                                </p:calendar>
                                <h:message for="dob" id="msgDOB"
                                           infoClass="input-notification success png_bg"
                                           warnClass="input-notification attention png_bg"
                                           errorClass="input-notification error png_bg"/>

                            </p>
                        </fieldset>
                    </div><!-- End #tab3 -->
                </div><!-- End .content-box-content -->
            </div><!-- End .content-box -->

            <div class="content-box column-right">
                <div class="content-box-header">
                    <h3>Contact Information</h3>
                </div><!-- End .content-box-header -->

                <div class="content-box-content">
                    <div class="tab-content default-tab">
                        <fieldset>
                            <h4>Introduction by Admin</h4>
                            <p>
                                When you create new an applicant, you need to enter his/her information. His/her contact information contains phone number, email, address, etc...
                                The email field must be entered, not blank and it is accepted when it was existed and unregistered, the other is recommended.
                            </p>
                            <p>
                                <label>Phone Number</label>
                                <h:inputText value="#{applicantMB.applicant.phoneNumber}" 
                                             styleClass="text-input medium-input" id="phone"
                                             validator="#{applicantMB.validatePhoneNumber}">
                                    <p:ajax update="msgPhone" event="keyup"/>
                                    <p:ajax update="msgPhone" event="blur"/>
                                </h:inputText>
                                <h:message for="phone" id="msgPhone"
                                           infoClass="input-notification success png_bg"
                                           warnClass="input-notification attention png_bg"
                                           errorClass="input-notification error png_bg"/>
                                <br /><small>For example: 0123456789</small>
                            </p>
                            <p>
                                <label>Email</label>
                                <h:inputText value="#{applicantMB.applicant.email}" 
                                             styleClass="text-input medium-input"
                                             id="email"
                                             required="true"
                                             requiredMessage="You must enter email address."
                                             validator="#{applicantMB.validateEmail}">
                                    <p:ajax update="msgEmail" event="keyup"/>
                                    <p:ajax update="msgEmail" event="blur"/>
                                </h:inputText>
                                <h:message for="email" id="msgEmail"
                                           infoClass="input-notification success png_bg"
                                           warnClass="input-notification attention png_bg"
                                           errorClass="input-notification error png_bg"/>
                                <br /><small>For example: recruitment@gmail.com</small>
                            </p>
                            <p>
                                <label>Address</label>
                                <h:inputTextarea value="#{applicantMB.applicant.address}" styleClass="text-input textarea medium-input" cols="80" rows="5" id="txtAddress"/>
                            </p>
                        </fieldset>
                    </div><!-- End #tab3 -->
                </div><!-- End .content-box-content -->
            </div><!-- End .content-box -->

            <div class="clear"></div>

            <div class="content-box"><!-- Start Content Box -->
                <div class="content-box-header">
                    <h3>Recruitment Information</h3>
                    <div class="clear"></div>
                </div>

                <div class="content-box-content">
                    <div class="default-tab">
                        <fieldset class="column-left">
                            <h4>Introduction by Admin</h4>
                            <p>
                                When you create new an applicant, you need to enter his/her information. His/her recruitment information will be used for recruitment process by
                                HR Group, all of fields should be completed.
                            </p>
                            <p>
                                <label>Salary Requirement</label>
                                <h:inputText value="#{applicantMB.applicant.salaryRequirement}" 
                                             styleClass="text-input medium-input" id="salary"
                                             converterMessage="Input is wrong format"
                                             validator="#{applicantMB.validateSalary}">
                                    <p:ajax update="msgSalary" event="keyup"/>
                                    <p:ajax update="msgSalary" event="blur"/>
                                </h:inputText>
                                <h:message for="salary" id="msgSalary"
                                           infoClass="input-notification success png_bg"
                                           warnClass="input-notification attention png_bg"
                                           errorClass="input-notification error png_bg"/>
                            </p>
                            <p>
                                <label>Year Of Experience</label>
                                <h:inputText value="#{applicantMB.applicant.yearOfExperience}" 
                                             styleClass="text-input medium-input" id="year"
                                             converterMessage="Input is wrong format"
                                             validator="#{applicantMB.validateYear}">
                                    <p:ajax update="msgYear" event="keyup"/>
                                    <p:ajax update="msgYear" event="blur"/>
                                </h:inputText>
                                <h:message for="year" id="msgYear"
                                           infoClass="input-notification success png_bg"
                                           warnClass="input-notification attention png_bg"
                                           errorClass="input-notification error png_bg"/>
                            </p>
                            <p>
                                <label>Language</label>
                                <h:inputTextarea value="#{applicantMB.applicant.language}" styleClass="text-input medium-input" cols="80" rows="5" id="txtLanguage"/>
                            </p>
                            <p>
                                <p:commandLink oncomplete="dlg.show();" value="Attach vacancy to new applicant"/>
                                <small><h:outputText id="attach-number" value="#{applicantMB.numberVacancies}"/></small>
                            </p>
                        </fieldset>
                        <fieldset class="column-right">
                            <p>
                                <label>Degree</label>
                                <h:inputTextarea value="#{applicantMB.applicant.degree}" styleClass="text-input textarea medium-input" cols="80" rows="5" id="txtDegree"/>
                            </p>
                            <p>
                                <label>Skill</label>
                                <h:inputTextarea value="#{applicantMB.applicant.skill}" styleClass="text-input textarea medium-input" cols="80" rows="5" id="txtSkill"/>
                            </p>
                            <p>
                                <label>Award</label>
                                <h:inputTextarea value="#{applicantMB.applicant.award}" styleClass="text-input textarea medium-input" cols="80" rows="5" id="txtAward"/>
                            </p>
                        </fieldset>
                        <div class="clear"></div><!-- End .clear -->
                    </div><!-- End #tab2 -->
                </div><!-- End .content-box-content -->
            </div>

            <p>
                <h:commandButton value="Create new" styleClass="button" action="#{applicantMB.add}"/>
            </p>

        </h:form>

        <ui:include src="templates/attach-dialog.xhtml"/>
        <script type="text/javascript" >
            $('.dob input').removeClass('ui-inputfield');
        </script>
    </ui:define>
</ui:composition>
