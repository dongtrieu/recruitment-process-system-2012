<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core">
    <h:form id="frm-event">
        <p:dialog
            id="message"
            header="Event Dialog"
            widgetVar="dlg"
            modal="true"
            resizable="false"
            width="450">
            <h3>#{calendarMB.titleFormat(interviewBean.selectedDate)}</h3>
            <p>
                <strong>#{interviewBean.msgNumber}</strong>
            </p>
            <ui:repeat value="#{interviewBean.lstInterviews}" var="interview">
                <h:panelGroup rendered="#{accountMB.account.employee == interview.employee}">
                    <div class="border">
                        <div class="event">
                            <div class="title">
                                <h3>#{interview.employee.firstName} #{interview.employee.lastName} -
                                    #{interview.employee.employeeID}</h3>
                                <h:outputLink value="info.xhtml">
                                    <h:commandButton image="resources/images/icons/info.png"/>
                                </h:outputLink>
                                <h:outputLink value="#">
                                    <h:commandButton image="resources/images/icons/clock.png"/>
                                </h:outputLink>
                            </div>
                            <div class="middle">
                                <h:panelGroup rendered="#{interview.status == 0}">
                                    <div class="cal_day day_red">
                                        <div class="day_heading">#{calendarMB.dayInWeekFormat(interviewBean.selectedDate)}</div>
                                        <div class="day_number">#{calendarMB.dayFormat(interviewBean.selectedDate)}</div>
                                    </div>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{interview.status == 100}">
                                    <div class="cal_day day_green">
                                        <div class="day_heading">#{calendarMB.dayInWeekFormat(interviewBean.selectedDate)}</div>
                                        <div class="day_number">#{calendarMB.dayFormat(interviewBean.selectedDate)}</div>
                                    </div>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{interview.status == -100}">
                                    <div class="cal_day day_blue">
                                        <div class="day_heading">#{calendarMB.dayInWeekFormat(interviewBean.selectedDate)}</div>
                                        <div class="day_number">#{calendarMB.dayFormat(interviewBean.selectedDate)}</div>
                                    </div>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{interview.status == 99}">
                                    <div class="cal_day day_yellow">
                                        <div class="day_heading">#{calendarMB.dayInWeekFormat(interviewBean.selectedDate)}</div>
                                        <div class="day_number">#{calendarMB.dayFormat(interviewBean.selectedDate)}</div>
                                    </div>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{interview.status == 1}">
                                    <div class="cal_day day_gray">
                                        <div class="day_heading">#{calendarMB.dayInWeekFormat(interviewBean.selectedDate)}</div>
                                        <div class="day_number">#{calendarMB.dayFormat(interviewBean.selectedDate)}</div>
                                    </div>
                                </h:panelGroup>
                            </div>
                            <div class="event_content">
                                <p><strong>Time: </strong>
                                    #{calendarMB.timeFormat(interview.startedTime)}
                                    to #{calendarMB.timeFormat(interview.endedTime)}</p>
                                <p><strong>Applicant name: </strong> #{interview.applicant.firstName} #{interview.applicant.lastName}</p>
                                <p><strong>Vacancy: </strong> #{interview.vacancy.title}</p>
                                <p><strong>Status: </strong> #{interviewBean.statusValue(interview.status)}</p>
                            </div>
                        </div>
                    </div>
                </h:panelGroup>
                <h:panelGroup rendered="#{accountMB.account.employee != interview.employee}">
                    <div class="border">
                        <div class="event other">
                            <h3>#{interview.employee.firstName} #{interview.employee.lastName} -
                                #{interview.employee.employeeID}</h3>
                            <div class="middle">
                                <h:panelGroup rendered="#{interview.status == 0}">
                                    <div class="cal_day day_red">
                                        <div class="day_heading">#{calendarMB.dayInWeekFormat(interviewBean.selectedDate)}</div>
                                        <div class="day_number">#{calendarMB.dayFormat(interviewBean.selectedDate)}</div>
                                    </div>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{interview.status == 100}">
                                    <div class="cal_day day_green">
                                        <div class="day_heading">#{calendarMB.dayInWeekFormat(interviewBean.selectedDate)}</div>
                                        <div class="day_number">#{calendarMB.dayFormat(interviewBean.selectedDate)}</div>
                                    </div>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{interview.status == -100}">
                                    <div class="cal_day day_blue">
                                        <div class="day_heading">#{calendarMB.dayInWeekFormat(interviewBean.selectedDate)}</div>
                                        <div class="day_number">#{calendarMB.dayFormat(interviewBean.selectedDate)}</div>
                                    </div>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{interview.status == 99}">
                                    <div class="cal_day day_yellow">
                                        <div class="day_heading">#{calendarMB.dayInWeekFormat(interviewBean.selectedDate)}</div>
                                        <div class="day_number">#{calendarMB.dayFormat(interviewBean.selectedDate)}</div>
                                    </div>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{interview.status == 1}">
                                    <div class="cal_day day_gray">
                                        <div class="day_heading">#{calendarMB.dayInWeekFormat(interviewBean.selectedDate)}</div>
                                        <div class="day_number">#{calendarMB.dayFormat(interviewBean.selectedDate)}</div>
                                    </div>
                                </h:panelGroup>
                            </div>
                            <div class="event_content">
                                <p><strong>Time: </strong>
                                    #{calendarMB.timeFormat(interview.startedTime)}
                                    to #{calendarMB.timeFormat(interview.endedTime)}</p>
                                <p><strong>Applicant name: </strong> #{interview.applicant.firstName} #{interview.applicant.lastName}</p>
                                <p><strong>Vacancy: </strong> #{interview.vacancy.title}</p>
                                <p><strong>Status: </strong> #{interviewBean.statusValue(interview.status)}</p>
                            </div>
                        </div>
                    </div>
                </h:panelGroup>
            </ui:repeat>
        </p:dialog>
    </h:form>
</ui:composition>
